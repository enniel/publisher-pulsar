[PublisherPulsar]

 Pulsar - это механизм, позволяющий организовывать синхронные действия в работе автономных процессов. Например, 
  обеспечивать непревышение лимита rps. 

[[PublisherPulsar worker-subscriber]]

Интерфейс WorkerZmqSubscriber 

В воркере-subscriber-e есть три zmq-сокета: реквестер, подписчик и пушер. 

Реквестер делает блокирующий запрос о готовности, и ждет ответа с разрешением добавиться в подписку. 
(встает в очередь на получение разрешения). В ответ ему приходит разрешение, он добавляется 
в подписчики и ждет сообщений по подписке (в очень быстром цикле проверяет, нет ли разрешения. Скорость цикла проверки
расчитывается паблишером и передается в dto).

Когда приходит сообщение по подписке, он выполняет целевое действие.

После выполнения действия он отписывается от канала.

И шлет пуш-сообщение в общий пул-канал, в котором содержатся сведения: успешность отписки, наличие/отсутствие ошибок
в целевом действии.

При следующей итерации воркер снова шлет запрос на разрешение действия, вставая в очередь. Шаги повторяются.

[[PublisherPulsar publisher]]

Работает как автономный процесс.

Посредством процесса ReplyStack ставит в подписку доступное количество воркеров.

После этого делает publish команду (ZMQ PUB socket)

На получение pull-сведений (ZMQ PULL socket) вешается обработчик, агрегирующий dto от воркеров, 
посыламые после выполнения дейстий, и анализирующий их на предмет наличия ошибок.

При получении ошибки они преломляются через правила обработки ошибок, и если встречается ошибка, связанная с количеством
одновременных действий, то корректируется работа пульсара (уменьшается количество подписчиков в одной итерации или 
засыпает на какое-то время). Если ошибки прекращаются, пульсар возвращается 
к большему количеству подписчиков, продолжая проверять не появились ли ошибки. То же после пробуждения.
                  
